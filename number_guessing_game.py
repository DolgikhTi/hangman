import random  # –ü–æ–¥–∫–ª—é—á–∞–µ–º –º–æ–¥—É–ª—å random

def is_valid(num, right):
    """
    –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ num ‚Äî —ç—Ç–æ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ right.
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç True, –µ—Å–ª–∏ –≤—Å—ë –æ–∫, –∏–Ω–∞—á–µ False.
    """
    return num.isdigit() and 1 <= int(num) <= right


def play_game():
    print('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —á–∏—Å–ª–æ–≤—É—é —É–≥–∞–¥–∞–π–∫—É!')

    # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–¥–∞—ë—Ç –ø—Ä–∞–≤—É—é –≥—Ä–∞–Ω–∏—Ü—É
    while True:
        right_border = input('–í–≤–µ–¥–∏—Ç–µ –ø—Ä–∞–≤—É—é –≥—Ä–∞–Ω–∏—Ü—É –¥–∏–∞–ø–∞–∑–æ–Ω–∞ (—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ –±–æ–ª—å—à–µ 1): ')
        if right_border.isdigit() and int(right_border) > 1:
            right_border = int(right_border)
            break
        else:
            print('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —á–∏—Å–ª–æ –±–æ–ª—å—à–µ 1!')

    # –ö–æ–º–ø—å—é—Ç–µ—Ä –∑–∞–≥–∞–¥—ã–≤–∞–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ
    secret = random.randint(1, right_border)
    attempts = 0  # —Å—á—ë—Ç—á–∏–∫ –ø–æ–ø—ã—Ç–æ–∫

    while True:
        user_input = input(f'–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ {right_border}: ')
        if not is_valid(user_input, right_border):
            print(f'–ê –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—Å–µ-—Ç–∞–∫–∏ –≤–≤–µ–¥–µ–º —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ {right_border}?')
            continue  # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ –Ω–∞—á–∞–ª—É —Ü–∏–∫–ª–∞

        user_num = int(user_input)
        attempts += 1

        if user_num < secret:
            print('–í–∞—à–µ —á–∏—Å–ª–æ –º–µ–Ω—å—à–µ –∑–∞–≥–∞–¥–∞–Ω–Ω–æ–≥–æ, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑–æ–∫.')
        elif user_num > secret:
            print('–í–∞—à–µ —á–∏—Å–ª–æ –±–æ–ª—å—à–µ –∑–∞–≥–∞–¥–∞–Ω–Ω–æ–≥–æ, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑–æ–∫.')
        else:
            print(f'–í—ã —É–≥–∞–¥–∞–ª–∏, –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! üéâ\n–í—ã –ø–æ—Ç—Ä–∞—Ç–∏–ª–∏ {attempts} –ø–æ–ø—ã—Ç–æ–∫.')
            break  # –≤—ã—Ö–æ–¥ –∏–∑ —Ü–∏–∫–ª–∞ –ø–æ—Å–ª–µ –ø–æ–±–µ–¥—ã

    print('–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –∏–≥—Ä–∞–ª–∏ –≤ —á–∏—Å–ª–æ–≤—É—é —É–≥–∞–¥–∞–π–∫—É. –ï—â–µ —É–≤–∏–¥–∏–º—Å—è!')


# –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª (–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –∏–≥—Ä—É)
while True:
    play_game()
    again = input('–•–æ—Ç–∏—Ç–µ —Å—ã–≥—Ä–∞—Ç—å –µ—â—ë —Ä–∞–∑? (–¥–∞/–Ω–µ—Ç): ').strip().lower()
    if again not in ('–¥–∞', '–¥', 'yes', 'y'):
        print('–î–æ —Å–∫–æ—Ä–æ–π –≤—Å—Ç—Ä–µ—á–∏! üëã')
        break
